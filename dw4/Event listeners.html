<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://unpkg.com/highlightjs-svelte/dist/svelte.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js"></script>
    <script defer>hljs.configure({ languages: ["svelte"] }); hljs.highlightAll(); hljs.initLineNumbersOnLoad();</script>

    <!-- https://github.com/arronhunt/highlightjs-copy -->
    <link rel="stylesheet" href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" />
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <script defer>hljs.addPlugin(new CopyButtonPlugin());</script>

    <!-- https://github.com/TRSasasusu/highlightjs-highlight-lines.js -->
    <script src="https://cdn.jsdelivr.net/gh/TRSasasusu/highlightjs-highlight-lines.js@1.2.0/highlightjs-highlight-lines.min.js"></script>
    <script defer>hljs.highlightLinesAll([
            // [{ start: 2, end: 2, color: 'lightgreen' }, { start: 9, end: 9, color: 'lightblue' }, { start: 14, end: 14, color: 'lightblue' }]
        ]);
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body,{delimiters:[{left: '$$', right: '$$', display: true},{left: '$', right: '$', display: false}]});"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/pedrosiqueira/custom-style/custom.css">
    <script src="https://cdn.jsdelivr.net/gh/pedrosiqueira/custom-style/custom.js"></script>
</head>

<h1>Manipulação de eventos</h1>

<h2>Leitura</h2>

<p>Leia as seções de "Events":</p>
<ul>
    <li><a href="https://svelte.dev/tutorial/svelte/dom-events">DOM events</a></li>
</ul>

<p>Leia as <a href="https://www.w3schools.com/tags/ref_eventattributes.asp">propriedades de eventos</a>.</p>

<p>No Svelte, ouvintes de eventos, que começam com <code>on</code>, são diferentes de sua contrapartida de HTML puro. Por exemplo, considere o seguinte script:</p>

<pre><code>&lt;script&gt;
    function f() { console.log(&quot;run!&quot;); }
    function g(event) { console.log(event); }
    function h(param) { console.log(param) }
    function i(event, param) { console.log(event, param); }
    function j() { return f; }
&lt;/script&gt;</code></pre>

<p>Códigos "equivalentes" entre HTML e Svelte seriam:</p>
<table class="custom">
    <thead>
        <tr>
            <th>HTML Puro</th>
            <th>Svelte</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <pre><code class="html">&lt;button onclick=&quot;f()&quot;&gt;f&lt;/button&gt;
&lt;button onclick=&quot;g(event)&quot;&gt;g&lt;/button&gt;
&lt;button onclick=&quot;h(&apos;arg&apos;)&quot;&gt;h&lt;/button&gt;
&lt;button onclick=&quot;i(event, &apos;arg&apos;)&quot;&gt;i&lt;/button&gt;
&lt;button onclick=&quot;j()()&quot;&gt;j&lt;/button&gt;</code></pre>
            </td>
            <td>
                <pre><code>&lt;button onclick={f}&gt;f&lt;/button&gt;
&lt;button onclick={g}&gt;g&lt;/button&gt;
&lt;button onclick={() =&gt; h(&apos;arg&apos;)}&gt;h&lt;/button&gt;
&lt;button onclick={(event) =&gt; i(event, &apos;arg&apos;)}&gt;i&lt;/button&gt;
&lt;button onclick={j()}&gt;j&lt;/button&gt;</code></pre>
            </td>
    </tbody>
</table>

<p>No HTML puro, <code>onclick</code> executa o que estiver entre aspas sempre que seu elemento for clicado. No Svelte, <code>onclick</code> deve ser uma referência a uma função que será invocada com o objeto <code>event</code> como parâmetro, sempre que seu elemento for clicado. Observe que na seguinte linha a função é executada apenas na primeira vez:</p>
<pre><code>&lt;button onclick={h('só uma vez')}&gt;h&lt;/button&gt;</code></pre>